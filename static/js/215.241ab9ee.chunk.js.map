{"version":3,"file":"static/js/215.241ab9ee.chunk.js","mappings":"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","sources":["components/Base/Container/Container.styled.js","components/Base/Container/Container.jsx","components/Base/Section/Section.styled.js","components/Base/Section/Section.jsx","components/Common/Form/Form.styled.js","components/Common/Form/Form.jsx","components/Choice/ChoiceRoomSelect/ChoiceRoomSelect.jsx","components/Choice/ChoiceRoom/ChoiceRoom.styled.js","components/Choice/ChoiceRoom/ChoiceRoom.jsx","helpers/formattedTimestamp.js","components/Chat/ChatMessage/ChatMessage.styled.js","components/Chat/ChatMessage/ChatMessage.jsx","components/Chat/ChatField/ChatField.styled.js","components/Chat/ChatField/ChatField.jsx","components/Chat/ChatForm/ChatForm.styled.js","components/Chat/ChatForm/ChatForm.jsx","components/Chat/ChatNavigation/ChatNavigation.styled.js","components/Chat/ChatNavigation/ChatNavigation.jsx","components/Chat/ChatRoom/ChatRoom.styled.js","components/Chat/ChatRoom/ChatRoom.jsx","components/Common/Modal/Modal.styled.js","components/Common/Modal/Modal.jsx","components/Chat/ChatImageModal/ChatImageModal.styled.js","components/Chat/ChatImageModal/ChatImageModal.jsx","components/Chat/ChatPreLoadModal/ChatPreLoadModal.styled.js","components/Chat/ChatPreLoadModal/ChatPreLoadModal.jsx","pages/Chat.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nimport { vars } from 'utils/variables';\n\nexport const Container = styled.div`\n  padding: 0 72px;\n  margin: 0 auto;\n  min-width: ${vars.breakpoints.mobileMin};\n  max-width: ${vars.breakpoints.mobileMax};\n\n  @media screen and (min-width: ${vars.breakpoints.tablet}) {\n    padding: 0 88px;\n    min-width: 768px;\n  }\n  @media screen and (min-width: ${vars.breakpoints.desktop}) {\n    padding: 0 81px;\n    max-width: 1440px;\n  }\n`;\n","import * as s from './Container.styled';\n\nconst Container = ({ children }) => <s.Container>{children}</s.Container>;\n\nexport default Container;\n","import styled from 'styled-components';\n\nimport { vars } from 'utils/variables';\n\nexport const Section = styled.section`\n  padding: 30px 0;\n\n  @media screen and (min-width: ${vars.breakpoints.tablet}) {\n    padding: 30px 0;\n  }\n  @media screen and (min-width: ${vars.breakpoints.desktop}) {\n    padding: 30px 0;\n  }\n`;\n","import * as s from './Section.styled';\n\nconst Section = ({ children }) => <s.Section>{children}</s.Section>;\n\nexport default Section;\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  position: relative;\n  display: flex;\n  gap: 5px;\n  align-items: center;\n  justify-content: center;\n  width: ${props => props.$formSize};\n`;\n\nexport const Input = styled.input`\n  height: auto;\n  padding: ${props =>\n    props.$paddingLeft ? `15px 15px 15px ${props.$paddingLeft}` : '15px'};\n  border-radius: 12px;\n  border: none;\n  width: 100%;\n`;\n","import Button from 'components/Common/Button';\n\nimport * as s from './Form.styled';\n\nconst Form = ({\n  onSubmit,\n  formValue,\n  onFormChange,\n  formPlaceholder,\n  btnName,\n  btnDisabled,\n  formSize,\n  children,\n  paddingLeft,\n}) => {\n  return (\n    <s.Form onSubmit={onSubmit} $formSize={formSize}>\n      <s.Input\n        value={formValue}\n        onChange={onFormChange}\n        placeholder={formPlaceholder}\n        $paddingLeft={paddingLeft}\n      />\n      {children}\n      <Button name={btnName} type=\"submit\" disabled={btnDisabled} />\n    </s.Form>\n  );\n};\n\nexport default Form;\n","import Select from 'react-select';\n\nconst ChoiceChatSelect = ({\n  options,\n  selectedRoom,\n  selectPlaceholder,\n  onSelectRoom,\n}) => {\n  return (\n    <Select\n      options={options}\n      value={selectedRoom}\n      onChange={onSelectRoom}\n      placeholder={selectPlaceholder}\n      styles={{\n        control: baseStyles => ({\n          ...baseStyles,\n          height: 'auto',\n          padding: '7px 15px',\n          borderRadius: '12px',\n          border: 'none',\n          width: '291px',\n        }),\n        valueContainer: baseStyles => ({\n          ...baseStyles,\n          padding: '0',\n          margin: '0',\n        }),\n        indicatorsContainer: baseStyles => ({\n          ...baseStyles,\n          padding: '0',\n          margin: '0',\n        }),\n        input: baseStyles => ({\n          ...baseStyles,\n          padding: '0',\n          margin: '0',\n        }),\n      }}\n    />\n  );\n};\n\nexport default ChoiceChatSelect;\n","import styled from 'styled-components';\n\nimport { vars } from 'utils/variables';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  gap: 30px;\n\n  // padding: 48px;\n  height: 80vh;\n  // background-color: ${vars.background.bgTertiary};\n  background-color: inherit;\n  border-radius: 12px;\n`;\n\nexport const Title = styled.p`\n  color: ${vars.colors.secondaryText};\n\n  font-size: 24px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 1.62em;\n  text-transform: uppercase;\n`;\n","import { useState, useEffect } from 'react';\n\nimport { nanoid } from 'nanoid';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport {\n  orderBy,\n  query,\n  onSnapshot,\n  collection,\n  where,\n  getDocs,\n} from 'firebase/firestore';\n\nimport { db } from 'FirebaseConfig';\n\nimport Form from 'components/Common/Form';\nimport Button from 'components/Common/Button';\nimport ChoiceRoomSelect from 'components/Choice/ChoiceRoomSelect';\nimport { useTranslation } from 'react-i18next';\n\nimport * as s from './ChoiceRoom.styled';\n\nconst ChoiceRoom = ({ setRoom, user }) => {\n  const [roomNumber, setRoomNumber] = useState('');\n  const [userRooms, setUserRooms] = useState('');\n  const [selectedRoom, setSelectedRoom] = useState('');\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    const q = query(collection(db, 'messages'), orderBy('timestamp'));\n\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const userRoomDocs = snapshot.docs.filter(\n        doc => doc.data().uid === user.uid\n      );\n      const existingRooms = {};\n      const userRoomsData = userRoomDocs.reduce((acc, doc) => {\n        const roomValue = doc.data().room;\n\n        if (!existingRooms[roomValue]) {\n          existingRooms[roomValue] = true;\n\n          acc.push({\n            value: roomValue,\n            label: `Room ${acc.length + 1}`,\n          });\n        }\n        return acc;\n      }, []);\n\n      setUserRooms(userRoomsData);\n    });\n\n    return unsubscribe;\n  }, [user]);\n\n  const handleCreateRoom = () => {\n    const newRoom = nanoid();\n    setRoom(newRoom);\n    localStorage.setItem('room', newRoom);\n\n    Notify.success('Room has been created!');\n  };\n\n  const handleSelectRoom = selectedRoom => {\n    setSelectedRoom(selectedRoom.value);\n    localStorage.setItem('room', selectedRoom.value);\n    setRoom(selectedRoom.value);\n\n    Notify.success('Welcome back!');\n  };\n\n  const handleAcceptInvitationToRoom = async e => {\n    e.preventDefault();\n\n    const roomExists = await checkRoomExists(roomNumber);\n\n    if (roomExists) {\n      localStorage.setItem('room', roomNumber);\n      setRoom(roomNumber);\n      Notify.success('Welcome aboard!');\n    } else {\n      Notify.failure('Room does not exist. Please enter a valid room number.');\n    }\n  };\n\n  const checkRoomExists = async roomNumber => {\n    try {\n      const q = query(\n        collection(db, 'messages'),\n        where('room', '==', roomNumber)\n      );\n      const roomSnapshot = await getDocs(q);\n      return !roomSnapshot.empty;\n    } catch (error) {\n      console.error('Error checking room existence:', error);\n      return false;\n    }\n  };\n\n  return (\n    <s.Container>\n      <s.Title>{t('createRoomTitle')}</s.Title>\n      <Button\n        func={handleCreateRoom}\n        name={t('button.createRoom')}\n        type=\"button\"\n        size={'291px'}\n      />\n\n      <s.Title>---------- {t('or')} ---------</s.Title>\n      <s.Title>{t('selectRoomTitle')}</s.Title>\n      <ChoiceRoomSelect\n        options={userRooms}\n        selectedRoom={selectedRoom}\n        onSelectRoom={handleSelectRoom}\n        selectPlaceholder={t('selectFormPlaceholder')}\n      />\n\n      <s.Title>---------- {t('or')} ---------</s.Title>\n      <s.Title>{t('joinRoomTitle')}</s.Title>\n      <Form\n        onSubmit={handleAcceptInvitationToRoom}\n        inputValue={roomNumber}\n        onFormChange={e => setRoomNumber(e.target.value)}\n        formPlaceholder={t('joinFormPlaceholder')}\n        btnName={t('button.join')}\n        formSize={'291px'}\n      />\n    </s.Container>\n  );\n};\n\nexport default ChoiceRoom;\n","export const formattedTimestamp = dataMessage => {\n  if (!dataMessage) return '';\n\n  const timestamp = dataMessage.toDate();\n  return new Intl.DateTimeFormat('uk-UK', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n  }).format(timestamp);\n};\n","import styled, { css } from 'styled-components';\nimport { vars } from 'utils/variables';\n\n// export const Wrapper = styled.div`\n//   // width: 500px;\n//   // height: 60vh;\n//   background-color: lightgrey;\n//   border: 1px solid black;\n//   overflow-y: auto;\n//   padding: 10px;\n//   width: 100%;\n//   max-width: calc(100% / 1.5);\n\n//   border: none;\n//   border-radius: 12px;\n\n//   background-color: ${vars.background.bgSecondary};\n// `;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  // flex-direction: column;\n  // gap: 10px;\n  // max-width: calc(100% / 1.5);\n  // width: fit-content;\n\n  justify-content: ${({ $ownMessage }) =>\n    $ownMessage ? 'flex-end' : 'flex-start'};\n`;\n\nexport const Message = styled.div`\n  display: flex;\n  flex-direction: column;\n  // max-width: calc(100% / 2);\n  gap: 10px;\n  background-color: ${vars.colors.primaryMsm};\n  padding: 10px;\n  border-radius: 8px;\n  margin: 5px;\n  max-width: calc(100% / 1.5);\n  width: fit-content;\n\n  ${({ $ownMessage }) =>\n    $ownMessage &&\n    css`\n      background-color: ${vars.colors.secondaryMsm};\n    `}\n`;\n\nexport const UserInfo = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`;\n\nexport const Image = styled.img`\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n`;\n\nexport const UserName = styled.h2`\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nexport const Description = styled.p`\n  font-size: 18px;\n  word-wrap: break-word;\n`;\n\nexport const DownloadFile = styled.img`\nwidth:100%\n  // width: 250px;\n  height: auto;\n`;\n\nexport const TimeContainer = styled.div`\n  display: flex;\n  justify-content: right;\n`;\n\nexport const Time = styled.p`\n  font-size: 14px;\n`;\n","import UserAvatar from 'components/Features/UserAvatar';\nimport { formattedTimestamp } from 'helpers/formattedTimestamp';\n\nimport * as s from './ChatMessage.styled';\n\nconst ChatMessage = ({ message, user, onModal, messagesEndRef }) => {\n  return (\n    <s.Wrapper $ownMessage={message.data.uid === user.uid}>\n      <s.Message\n        $ownMessage={message.data.uid === user.uid}\n        ref={messagesEndRef}\n      >\n        <s.UserInfo>\n          <UserAvatar user={message.data} />\n          <s.UserName>{message.data.displayName}</s.UserName>\n        </s.UserInfo>\n        <s.Description>{message.data.text}</s.Description>\n\n        {s.DownloadFile && message.data.file && (\n          <s.DownloadFile\n            src={message.data.file}\n            alt=\"document_img\"\n            onClick={() => onModal(message.data.file)}\n          />\n        )}\n        <s.TimeContainer>\n          <s.Time>{formattedTimestamp(message.data.timestamp)}</s.Time>\n        </s.TimeContainer>\n      </s.Message>\n    </s.Wrapper>\n  );\n};\n\nexport default ChatMessage;\n","import styled, { css } from 'styled-components';\nimport { vars } from 'utils/variables';\n\nexport const Wrapper = styled.div`\n  width: 500px;\n  height: 60vh;\n  background-color: lightgrey;\n  border: 1px solid black;\n  overflow-y: auto;\n  padding: 10px;\n\n  border: 0.5px solid;\n  border-radius: 12px;\n\n  background-color: ${vars.background.bgSecondary};\n`;\n\nexport const MessageItem = styled.div`\n  display: flex;\n  justify-content: ${({ $ownMessage }) =>\n    $ownMessage ? 'flex-end' : 'flex-start'};\n`;\n\nexport const Message = styled.div`\n  background-color: ${vars.colors.primaryMsm};\n  padding: 10px;\n  border-radius: 8px;\n  margin: 5px;\n\n  ${({ $ownMessage }) =>\n    $ownMessage &&\n    css`\n      background-color: ${vars.colors.secondaryMsm};\n    `}\n`;\n\nexport const Box = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`;\n\nexport const Image = styled.img`\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n`;\n\nexport const UserName = styled.h2`\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nexport const Description = styled.p`\n  font-size: 14px;\n`;\n\nexport const DownloadFile = styled.img`\n  width: 250px;\n  height: auto;\n`;\n","import ChatMessage from 'components/Chat/ChatMessage';\n\nimport * as s from './ChatField.styled';\n\nconst ChatField = ({ messages, user, messagesEndRef, onModal }) => {\n  return (\n    <s.Wrapper>\n      {messages.map(message => (\n        <ChatMessage\n          key={message.id}\n          message={message}\n          user={user}\n          messagesEndRef={messagesEndRef}\n          onModal={onModal}\n        />\n      ))}\n    </s.Wrapper>\n  );\n};\n\nexport default ChatField;\n","import styled from 'styled-components';\n// import { vars } from 'utils/variables';\n\nexport const AddIcon = styled.div`\n  position: absolute;\n  left: 10px;\n`;\n\nexport const Label = styled.label`\n  font-size: 16px;\n  font-weight: 500;\n  color: black;\n  text-decoration: underline;\n  cursor: pointer;\n`;\nexport const Input = styled.input`\n  width: 0.1px;\n  height: 0.1px;\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  z-index: -1;\n`;\n","// import { useState, useRef } from 'react';\n\nimport * as s from './ChatForm.styled';\nimport { FaPaperclip } from 'react-icons/fa6';\n// import UserAvatar from 'components/Features/UserAvatar';\nimport Form from 'components/Common/Form';\n\nconst ChatForm = ({\n  onSubmit,\n  formValue,\n  onFormChange,\n  formPlaceholder,\n  btnName,\n  btnDisabled,\n  formSize,\n  onAddIcon,\n  paddingLeft,\n}) => {\n  return (\n    <Form\n      onSubmit={onSubmit}\n      formValue={formValue}\n      onFormChange={onFormChange}\n      formPlaceholder={formPlaceholder}\n      btnName={btnName}\n      btnDisabled={btnDisabled}\n      formSize={formSize}\n      paddingLeft={paddingLeft}\n    >\n      <s.AddIcon>\n        <s.Input\n          type=\"file\"\n          accept=\"image/*\"\n          id=\"paperclip\"\n          onChange={onAddIcon}\n        />\n        <s.Label htmlFor=\"paperclip\">\n          <FaPaperclip />\n        </s.Label>\n      </s.AddIcon>\n    </Form>\n  );\n};\n\nexport default ChatForm;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  align-item: center;\n  justify-item: center;\n  gap: 10px;\n`;\n","import { useState } from 'react';\n\nimport * as s from './ChatNavigation.styled';\nimport Button from 'components/Common/Button';\nimport { useTranslation } from 'react-i18next';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst ChatNavigation = ({ room, setRoom }) => {\n  const [copied, setCopied] = useState(false);\n  const { t } = useTranslation();\n\n  const handleCopyRoomInvitation = async () => {\n    await navigator.clipboard.writeText(room);\n    Notify.success('Invitation is copied!');\n    setCopied(true);\n  };\n\n  const handleGoBack = () => {\n    localStorage.removeItem('room');\n    setRoom('');\n  };\n\n  return (\n    <s.Container>\n      <Button\n        name={copied ? t('chatCopied') : t('chatCopiedClicked')}\n        type=\"button\"\n        func={handleCopyRoomInvitation}\n      />\n      <Button func={handleGoBack} name={t('button.return')} type=\"button\" />\n    </s.Container>\n  );\n};\n\nexport default ChatNavigation;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n\n  width: 100%;\n`;\n","import ChatField from 'components/Chat/ChatField';\nimport ChatForm from 'components/Chat/ChatForm';\nimport ChatNavigation from 'components/Chat/ChatNavigation';\n\nimport * as s from './ChatRoom.styled';\n\nconst ChatRoom = ({\n  room,\n  setRoom,\n  messages,\n  user,\n  messagesEndRef,\n  onModal,\n  onSubmit,\n  formValue,\n  onFormChange,\n  formPlaceholder,\n  btnName,\n  btnDisabled,\n  formSize,\n  onAddIcon,\n  paddingLeft,\n}) => {\n  return (\n    <s.Container>\n      <ChatNavigation room={room} setRoom={setRoom} />\n      <ChatField\n        messages={messages}\n        user={user}\n        messagesEndRef={messagesEndRef}\n        onModal={onModal}\n      />\n      <ChatForm\n        onSubmit={onSubmit}\n        formValue={formValue}\n        onFormChange={onFormChange}\n        formPlaceholder={formPlaceholder}\n        btnName={btnName}\n        btnDisabled={btnDisabled}\n        formSize={formSize}\n        onAddIcon={onAddIcon}\n        paddingLeft={paddingLeft}\n      />\n    </s.Container>\n  );\n};\n\nexport default ChatRoom;\n","import styled from 'styled-components';\n\nimport { vars } from 'utils/variables';\n\nexport const Backdrop = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n\n  background-color: transparent;\n`;\n\nexport const ModalField = styled.div`\n  position: relative;\n\n  width: calc(100% - 30px);\n  max-width: 541px;\n  height: auto;\n  max-height: calc(100vh - 30px);\n\n  padding: 40px 20px 20px 20px;\n  overflow-y: auto;\n\n  border-radius: 12px;\n\n  background-color: ${vars.background.bgSecondary};\n`;\n\nexport const CloseButton = styled.button`\n  position: absolute;\n  font-size: 24px;\n  top: 16px;\n  right: 16px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 0;\n\n  cursor: pointer;\n  border: none;\n\n  background-color: transparent;\n`;\n\n// export const IconBtn = styled(CloseIconBtn)`\n//   width: 100%;\n//   height: 100%;\n\n//   color: ${variables.colors.black};\n// `;\n","import { createPortal } from 'react-dom';\nimport { useEffect } from 'react';\nimport * as s from './Modal.styled';\n\nimport { IoMdClose } from 'react-icons/io';\n\nconst ModalRoot = document.getElementById('modal-root');\n\nconst Modal = ({ onClose, children }) => {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <s.Backdrop onClick={handleBackdropClick}>\n      <s.ModalField>\n        <s.CloseButton onClick={onClose}>\n          <IoMdClose />\n        </s.CloseButton>\n        {children}\n      </s.ModalField>\n    </s.Backdrop>,\n    ModalRoot\n  );\n};\n\nexport default Modal;\n","import styled from 'styled-components';\n\nexport const Image = styled.img`\n  width: 500px;\n  height: auto;\n`;\n","import Modal from 'components/Common/Modal';\n\nimport * as s from './ChatImageModal.styled';\n\nconst ChatImageModal = ({ onClose, picture }) => {\n  return (\n    <Modal onClose={onClose}>\n      <s.Image src={picture} alt=\"preLoad_img\" />\n    </Modal>\n  );\n};\n\nexport default ChatImageModal;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n`;\n\nexport const Image = styled.img`\n  width: 500px;\n  height: auto;\n`;\n\nexport const ButtonsContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n","import Modal from 'components/Common/Modal';\nimport Button from 'components/Common/Button';\n\nimport * as s from './ChatPreLoadModal.styled';\n\nconst ChatPreLoadModal = ({\n  onClose,\n  picture,\n  btnRemoveName,\n  btnSentName,\n  onSubmit,\n}) => {\n  return (\n    <Modal onClose={onClose}>\n      <s.Container>\n        <s.Image src={picture} alt=\"preLoad_img\" />\n        <s.ButtonsContainer>\n          <Button\n            type={'button'}\n            name={btnRemoveName}\n            func={onClose}\n            btnType={'remove'}\n          />\n          <Button type={'button'} name={btnSentName} func={onSubmit} />\n        </s.ButtonsContainer>\n      </s.Container>\n    </Modal>\n  );\n};\n\nexport default ChatPreLoadModal;\n","import { useEffect, useState, useRef } from 'react';\nimport {\n  addDoc,\n  orderBy,\n  query,\n  onSnapshot,\n  serverTimestamp,\n  collection,\n  where,\n} from 'firebase/firestore';\nimport {\n  ref,\n  uploadBytes,\n  getDownloadURL,\n  deleteObject,\n} from 'firebase/storage';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, db, storage } from 'FirebaseConfig';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { nanoid } from 'nanoid';\nimport { useTranslation } from 'react-i18next';\n\nimport Section from 'components/Base/Section';\nimport Container from 'components/Base/Container';\nimport ChoiceRoom from 'components/Choice/ChoiceRoom';\nimport ChatRoom from 'components/Chat/ChatRoom';\nimport ChatImageModal from 'components/Chat/ChatImageModal';\nimport ChatPreLoadModal from 'components/Chat/ChatPreLoadModal';\nimport Loader from 'components/Common/Loader';\n\nconst Chat = () => {\n  const messagesEndRef = useRef(null);\n  const { t } = useTranslation();\n  const [user, setUser] = useState(null);\n  const [room, setRoom] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [uploadDoc, setUploadDoc] = useState(null);\n  const [imageList, setImageList] = useState('');\n  const [sendToChat, setSendToChat] = useState(false);\n  const [loadingImage, setLoadingImage] = useState(false);\n  const [preUploadFile, setPreUploadFile] = useState('');\n  const [shownModal, setShowModal] = useState(false);\n  const [modalPicture, setModalPicture] = useState('');\n\n  useEffect(() => {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        setUser(user);\n        const storedRoom = localStorage.getItem('room');\n        setRoom(storedRoom);\n      } else {\n        setUser(null);\n        localStorage.removeItem('room');\n        setRoom('');\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    const q = query(\n      collection(db, 'messages'),\n      where('room', '==', room),\n      orderBy('timestamp')\n    );\n    const unsubscribe = onSnapshot(q, snapshot => {\n      setMessages(\n        snapshot.docs.map(doc => ({\n          id: doc.id,\n          data: doc.data(),\n        }))\n      );\n    });\n    scrollToBottom();\n    return unsubscribe;\n  }, [room]);\n\n  useEffect(() => {\n    const handleUpload = () => {\n      if (uploadDoc) {\n        uploadFile();\n      }\n    };\n\n    handleUpload();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [uploadDoc]);\n\n  const sendMessage = async () => {\n    await addDoc(collection(db, 'messages'), {\n      uid: user.uid,\n      photoURL: user.photoURL,\n      displayName: user.displayName,\n      text: newMessage,\n      timestamp: serverTimestamp(),\n      room,\n      file: imageList,\n    });\n\n    setNewMessage('');\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (newMessage.trim() === '' && imageList === '') {\n      return;\n    }\n    await uploadFile();\n    sendMessage();\n    setSendToChat(false);\n    setNewMessage('');\n\n    setUploadDoc(null);\n    setImageList('');\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({\n      block: 'end',\n      inline: 'end',\n      // behavior: 'smooth',\n    });\n  };\n\n  const onModal = imageUrl => {\n    setModalPicture(imageUrl);\n    setShowModal(prevShownModal => !prevShownModal);\n  };\n\n  const handleSetRoom = selectedRoom => {\n    setRoom(selectedRoom);\n  };\n\n  const uploadFile = async () => {\n    if (uploadDoc == null) return;\n    setSendToChat(true);\n    setLoadingImage(true);\n\n    const imageName = uploadDoc.name + nanoid();\n    setPreUploadFile(imageName);\n\n    const imageRef = ref(storage, `images/room/${room}/${imageName}`);\n\n    await uploadBytes(imageRef, uploadDoc)\n      .then(snapshot => {\n        getDownloadURL(snapshot.ref).then(url => {\n          setImageList(url);\n          setLoadingImage(false);\n        });\n      })\n      .catch(error => {\n        Notify.failure('Error uploading file');\n        setLoadingImage(false);\n      });\n\n    setUploadDoc(null);\n  };\n\n  const deletePreLoad = () => {\n    setSendToChat(false);\n\n    setUploadDoc(null);\n    setImageList('');\n    deleteObject(ref(storage, `images/room/${room}/${preUploadFile}`));\n  };\n\n  return (\n    <Section>\n      <Container>\n        {!room ? (\n          <ChoiceRoom setRoom={handleSetRoom} user={user} />\n        ) : (\n          <ChatRoom\n            room={room}\n            setRoom={setRoom}\n            messages={messages}\n            user={user}\n            messagesEndRef={messagesEndRef}\n            onModal={onModal}\n            onSubmit={handleSubmit}\n            formValue={newMessage}\n            onFormChange={e => setNewMessage(e.target.value)}\n            formPlaceholder={t('messageFormPlaceholder')}\n            btnName={t('button.sent')}\n            btnDisabled={uploadDoc !== null}\n            formSize={'500px'}\n            onAddIcon={e => setUploadDoc(e.target.files[0])}\n            paddingLeft={'35px'}\n          />\n        )}\n      </Container>\n      {sendToChat ? (\n        loadingImage ? (\n          <Loader />\n        ) : (\n          <ChatPreLoadModal\n            onClose={deletePreLoad}\n            picture={imageList}\n            btnRemoveName={t('button.delete')}\n            btnSentName={t('button.sent')}\n            onSubmit={handleSubmit}\n          />\n        )\n      ) : null}\n      {shownModal && (\n        <ChatImageModal onClose={onModal} picture={modalPicture} />\n      )}\n    </Section>\n  );\n};\n\nexport default Chat;\n"],"names":["Container","styled","div","_templateObject","_taggedTemplateLiteral","vars","breakpoints","mobileMin","mobileMax","tablet","desktop","_ref","children","_jsx","s","Section","section","Form","form","props","$formSize","Input","input","_templateObject2","$paddingLeft","concat","onSubmit","formValue","onFormChange","formPlaceholder","btnName","btnDisabled","formSize","paddingLeft","_jsxs","value","onChange","placeholder","Button","name","type","disabled","options","selectedRoom","selectPlaceholder","onSelectRoom","Select","styles","control","baseStyles","height","padding","borderRadius","border","width","valueContainer","margin","indicatorsContainer","background","bgTertiary","Title","p","colors","secondaryText","setRoom","user","roomNumber","setRoomNumber","useState","userRooms","setUserRooms","setSelectedRoom","t","useTranslation","useEffect","q","query","collection","db","orderBy","onSnapshot","snapshot","userRoomDocs","docs","filter","doc","data","uid","existingRooms","userRoomsData","reduce","acc","roomValue","room","push","label","length","checkRoomExists","async","where","getDocs","empty","error","console","func","handleCreateRoom","newRoom","nanoid","localStorage","setItem","Notify","success","size","ChoiceRoomSelect","e","preventDefault","failure","inputValue","target","formattedTimestamp","dataMessage","timestamp","toDate","Intl","DateTimeFormat","year","month","day","hour","minute","second","format","Wrapper","$ownMessage","Message","primaryMsm","_ref2","css","_templateObject3","secondaryMsm","UserInfo","_templateObject4","UserName","img","_templateObject5","h2","_templateObject6","Description","_templateObject7","DownloadFile","_templateObject8","TimeContainer","_templateObject9","Time","_templateObject10","message","onModal","messagesEndRef","ref","UserAvatar","displayName","text","file","src","alt","onClick","bgSecondary","messages","map","ChatMessage","id","AddIcon","Label","onAddIcon","accept","htmlFor","FaPaperclip","copied","setCopied","navigator","clipboard","writeText","handleGoBack","removeItem","ChatNavigation","ChatField","ChatForm","Backdrop","ModalField","CloseButton","button","ModalRoot","document","getElementById","onClose","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","currentTarget","IoMdClose","Image","picture","Modal","ButtonsContainer","btnRemoveName","btnSentName","btnType","Chat","useRef","setUser","setMessages","newMessage","setNewMessage","uploadDoc","setUploadDoc","imageList","setImageList","sendToChat","setSendToChat","loadingImage","setLoadingImage","preUploadFile","setPreUploadFile","shownModal","setShowModal","modalPicture","setModalPicture","onAuthStateChanged","auth","storedRoom","getItem","unsubscribe","scrollToBottom","uploadFile","handleSubmit","trim","addDoc","photoURL","serverTimestamp","sendMessage","_messagesEndRef$curre","current","scrollIntoView","block","inline","imageUrl","prevShownModal","imageName","imageRef","storage","uploadBytes","then","getDownloadURL","url","catch","ChatRoom","files","ChoiceRoom","Loader","ChatPreLoadModal","deletePreLoad","deleteObject","ChatImageModal"],"sourceRoot":""}