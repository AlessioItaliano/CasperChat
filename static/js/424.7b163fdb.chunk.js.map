{"version":3,"file":"static/js/424.7b163fdb.chunk.js","mappings":"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","sources":["components/Base/Container/Container.styled.js","components/Base/Container/Container.jsx","components/Base/Section/Section.styled.js","components/Base/Section/Section.jsx","components/Chat/Chat.styled.js","components/Common/Modal/Modal.styled.js","components/Common/Modal/Modal.jsx","components/ImageModal/ImageModal.styled.js","components/ImageModal/ImageModal.jsx","components/Chat/Chat.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nimport { vars } from 'utils/variables';\n\nexport const Container = styled.div`\n  padding: 0 72px;\n  margin: 0 auto;\n  min-width: ${vars.breakpoints.mobileMin};\n  max-width: ${vars.breakpoints.mobileMax};\n\n  @media screen and (min-width: ${vars.breakpoints.tablet}) {\n    padding: 0 88px;\n    min-width: 768px;\n  }\n  @media screen and (min-width: ${vars.breakpoints.desktop}) {\n    padding: 0 81px;\n    max-width: 1440px;\n  }\n`;\n","import * as s from './Container.styled';\n\nconst Container = ({ children }) => <s.Container>{children}</s.Container>;\n\nexport default Container;\n","import styled from 'styled-components';\n\nimport { vars } from 'utils/variables';\n\nexport const Section = styled.section`\n  padding: 30px 0;\n\n  @media screen and (min-width: ${vars.breakpoints.tablet}) {\n    padding: 30px 0;\n  }\n  @media screen and (min-width: ${vars.breakpoints.desktop}) {\n    padding: 30px 0;\n  }\n`;\n","import * as s from './Section.styled';\n\nconst Section = ({ children }) => <s.Section>{children}</s.Section>;\n\nexport default Section;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n\n  // padding: 15px 0;\n  width: 100%;\n`;\n\nexport const Chat = styled.div`\n  width: 500px;\n  height: 60vh;\n  background-color: lightgrey;\n  border: 1px solid black;\n  overflow-y: auto;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  gap: 5px;\n  align-items: center;\n  width: 500px;\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  height: auto;\n  padding: 10px;\n`;\n\nexport const ChatMessage = styled.div`\n  display: flex;\n  justify-content: ${({ $ownMessage }) =>\n    $ownMessage ? 'flex-end' : 'flex-start'};\n`;\n\nexport const Message = styled.div`\n  background-color: #f0f0f0;\n  padding: 10px;\n  border-radius: 8px;\n  margin: 5px;\n\n  ${({ $ownMessage }) =>\n    $ownMessage &&\n    css`\n      background-color: #dcf8c6;\n    `}\n`;\n\nexport const Box = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`;\n\nexport const Image = styled.img`\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n`;\n\nexport const UserName = styled.h2`\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nexport const Description = styled.p`\n  font-size: 14px;\n`;\n\nexport const IconWrapper = styled.input`\n  background: inherit;\n  border: none;\n  cursor: pointer;\n  width: 30px;\n  height: auto;\n`;\n\nexport const AddIconLabel = styled.label`\n  font-size: 16px;\n  font-weight: 500;\n  color: black;\n  text-decoration: underline;\n  cursor: pointer;\n`;\nexport const AddIconInput = styled.input`\n  width: 0.1px;\n  height: 0.1px;\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  z-index: -1;\n`;\n\nexport const ChoiseContainer = styled.div`\n  display: flex;\n  align-item: center;\n  justify-item: center;\n  flex-direction: column;\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  align-item: center;\n  justify-item: center;\n  gap: 10px;\n`;\n\nexport const PreDownload = styled.div`\n  width: 250px;\n  height: 250px;\n\n  position: relative;\n`;\n\nexport const DownloadFile = styled.img`\n  width: 250px;\n  height: auto;\n`;\n\nexport const DeleteIcon = styled.button`\n  // width: 25px;\n  height: 25px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  position: absolute;\n  top: 5px;\n  right: 5px;\n\n  border-radius: 50%;\n  border: none;\n  background-color: red;\n\n  cursor: pointer;\n\n  &:focus,\n  &:hover {\n    color: white;\n    border: 0.5px solid white;\n  }\n`;\n","import styled from 'styled-components';\n\nimport { vars } from 'utils/variables';\n\nexport const Backdrop = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n\n  background-color: grey;\n`;\n\nexport const ModalField = styled.div`\n  position: relative;\n\n  width: calc(100% - 30px);\n  // max-width: 541px;\n  height: auto;\n  // max-height: calc(100vh - 30px);\n\n  padding: 40px 20px 20px 20px;\n  overflow-y: auto;\n\n  border-radius: 24px;\n\n  background-color: ${vars.background.bgSecondary};\n`;\n\nexport const CloseButton = styled.button`\n  position: absolute;\n  top: 16px;\n  right: 16px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 0;\n\n  cursor: pointer;\n  border: none;\n\n  background-color: transparent;\n`;\n\n// export const IconBtn = styled(CloseIconBtn)`\n//   width: 100%;\n//   height: 100%;\n\n//   color: ${variables.colors.black};\n// `;\n","import { createPortal } from 'react-dom';\nimport { useEffect } from 'react';\nimport * as s from './Modal.styled';\n\nimport { IoMdClose } from 'react-icons/io';\n\nconst ModalRoot = document.getElementById('modal-root');\n\nconst Modal = ({ onClose, children }) => {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <s.Backdrop onClick={handleBackdropClick}>\n      <s.ModalField>\n        <s.CloseButton onClick={onClose}>\n          <IoMdClose />\n        </s.CloseButton>\n        {children}\n      </s.ModalField>\n    </s.Backdrop>,\n    ModalRoot\n  );\n};\n\nexport default Modal;\n","import styled from 'styled-components';\n\nexport const Image = styled.img`\n  width: 100%;\n  height: 100%;\n`;\n","import Modal from 'components/Common/Modal';\nimport * as s from './ImageModal.styled';\n\nconst ImageModal = ({ onClose, picture }) => {\n  return (\n    <Modal onClose={onClose}>\n      <s.Image src={picture} alt=\"large_img\" />\n    </Modal>\n  );\n};\n\nexport default ImageModal;\n","import { useEffect, useState, useRef } from 'react';\nimport {\n  addDoc,\n  orderBy,\n  query,\n  onSnapshot,\n  serverTimestamp,\n  collection,\n  where,\n} from 'firebase/firestore';\nimport { auth, db, storage } from '../../FirebaseConfig';\nimport { nanoid } from 'nanoid';\nimport { FaPaperclip } from 'react-icons/fa6';\nimport {\n  ref,\n  uploadBytes,\n  getDownloadURL,\n  deleteObject,\n} from 'firebase/storage';\n\nimport { onAuthStateChanged } from 'firebase/auth';\n\nimport { IoMdClose } from 'react-icons/io';\n\nimport * as s from './Chat.styled';\nimport Button from 'components/Common/Button';\nimport Section from 'components/Base/Section';\nimport Container from 'components/Base/Container';\nimport ImageModal from 'components/ImageModal';\n\nconst Chat = () => {\n  const [user, setUser] = useState(null);\n  const messagesEndRef = useRef(null);\n  const [room, setRoom] = useState('');\n  const [roomNumber, setRoomNumber] = useState('');\n  const [copied, setCopied] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [uploadDoc, setUploadDoc] = useState(null);\n  const [imageList, setImageList] = useState('');\n  const [sendToChat, setSendToChat] = useState(false);\n  const [loadingImage, setLoadingImage] = useState(false);\n  const [preUploadFile, setPreUploadFile] = useState('');\n  const [shownModal, setShowModal] = useState(false);\n  const [modalPicture, setModalPicture] = useState('');\n\n  useEffect(() => {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        setUser(user);\n        const storedRoom = localStorage.getItem('room');\n        setRoom(storedRoom);\n      } else {\n        setUser(null);\n        localStorage.removeItem('room');\n        setRoom('');\n      }\n    });\n  }, []);\n\n  const sendMessage = async () => {\n    await addDoc(collection(db, 'messages'), {\n      uid: user.uid,\n      photoURL: user.photoURL,\n      displayName: user.displayName,\n      text: newMessage,\n      timestamp: serverTimestamp(),\n      room,\n      file: imageList,\n    });\n\n    setNewMessage('');\n  };\n\n  useEffect(() => {\n    const q = query(\n      collection(db, 'messages'),\n      where('room', '==', room),\n      orderBy('timestamp')\n    );\n    const unsubscribe = onSnapshot(q, snapshot => {\n      setMessages(\n        snapshot.docs.map(doc => ({\n          id: doc.id,\n          data: doc.data(),\n        }))\n      );\n      scrollToBottom();\n    });\n    return unsubscribe;\n  }, [room]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (newMessage.trim() === '' && imageList === '') {\n      return;\n    }\n\n    await uploadFile();\n    sendMessage();\n    setSendToChat(false);\n\n    setUploadDoc(null);\n    setImageList('');\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const handleCreateRoom = () => {\n    const newRoom = nanoid();\n    setRoom(newRoom);\n    localStorage.setItem('room', newRoom);\n  };\n\n  const handleCopyRoomInvitation = async () => {\n    await navigator.clipboard.writeText(room);\n    setCopied(true);\n  };\n\n  const goToRoom = e => {\n    e.preventDefault();\n    localStorage.setItem('room', roomNumber);\n    setRoom(roomNumber);\n  };\n\n  const handleGoBack = () => {\n    localStorage.removeItem('room');\n    setRoom('');\n  };\n\n  // useEffect(() => {\n  //   if (uploadDoc) {\n  //     uploadFile();\n  //   }\n  // }, [uploadDoc]);\n\n  const uploadFile = async () => {\n    if (uploadDoc == null) return;\n    setSendToChat(true);\n    setLoadingImage(true);\n\n    const imageName = uploadDoc.name + nanoid();\n    setPreUploadFile(imageName);\n\n    const imageRef = ref(storage, `images/room/${room}/${imageName}`);\n\n    await uploadBytes(imageRef, uploadDoc)\n      .then(snapshot => {\n        getDownloadURL(snapshot.ref).then(url => {\n          setImageList(url);\n          setLoadingImage(false);\n        });\n        // setUploadDoc(null);\n      })\n      .catch(error => {\n        console.error('Error uploading file:', error);\n        setLoadingImage(false);\n      });\n\n    setUploadDoc(null);\n  };\n\n  const deletePreLoadFile = () => {\n    setSendToChat(false);\n\n    setUploadDoc(null);\n    setImageList('');\n    deleteObject(ref(storage, `images/room/${room}/${preUploadFile}`));\n  };\n\n  const onModal = imageUrl => {\n    setModalPicture(imageUrl);\n    setShowModal(prevShownModal => !prevShownModal);\n  };\n\n  return (\n    <Section>\n      <Container>\n        {!room ? (\n          <s.ChoiseContainer>\n            <p>Do you want create new room ?</p>\n            <Button func={handleCreateRoom} name=\"Create room\" />\n            <p>Click here or you have invitation?</p>\n            <s.Form onClick={goToRoom}>\n              <s.Input\n                type=\"text\"\n                value={roomNumber}\n                onChange={e => setRoomNumber(e.target.value)}\n                placeholder=\"Insert your invitation here...\"\n              />\n              <Button name=\"Go to Room\" type=\"submit\" />\n            </s.Form>\n          </s.ChoiseContainer>\n        ) : (\n          <>\n            <s.Container>\n              <s.ButtonContainer>\n                <Button\n                  name={copied ? 'Copied!' : 'Click here to copy invitation'}\n                  type=\"button\"\n                  func={handleCopyRoomInvitation}\n                  // disabled={copied}\n                />\n                <Button func={handleGoBack} name=\"Return\" type=\"button\" />\n              </s.ButtonContainer>\n\n              <s.Chat>\n                <div>\n                  {messages.map(message => (\n                    <s.ChatMessage\n                      key={message.id}\n                      $ownMessage={message.data.uid === user.uid}\n                    >\n                      <s.Message\n                        $ownMessage={message.data.uid === user.uid}\n                        ref={messagesEndRef}\n                      >\n                        <s.Box>\n                          <s.Image\n                            src={message.data.photoURL}\n                            alt=\"avatar_of_user\"\n                          />\n                          <s.UserName>{message.data.displayName}</s.UserName>\n                        </s.Box>\n                        <s.Description>{message.data.text}</s.Description>\n\n                        {s.DownloadFile && message.data.file && (\n                          <s.DownloadFile\n                            src={message.data.file}\n                            alt=\"document_img\"\n                            onClick={() => onModal(message.data.file)}\n                          />\n                        )}\n                      </s.Message>\n                    </s.ChatMessage>\n                  ))}\n                </div>\n              </s.Chat>\n              <s.Form onSubmit={handleSubmit}>\n                <s.AddIconInput\n                  type=\"file\"\n                  accept=\"image/*\"\n                  id=\"paperclip\"\n                  onChange={e => setUploadDoc(e.target.files[0])}\n                />\n                <s.AddIconLabel htmlFor=\"paperclip\">\n                  <FaPaperclip />\n                </s.AddIconLabel>\n                <s.Input\n                  value={newMessage}\n                  onChange={e => setNewMessage(e.target.value)}\n                  placeholder=\"Insert your message here...\"\n                />\n                <Button\n                  name=\"SENT\"\n                  type=\"submit\"\n                  disabled={uploadDoc !== null}\n                />\n              </s.Form>\n              {sendToChat ? (\n                loadingImage ? (\n                  <p>Loading...</p>\n                ) : (\n                  <s.PreDownload>\n                    <s.DeleteIcon type=\"button\" onClick={deletePreLoadFile}>\n                      <IoMdClose />\n                    </s.DeleteIcon>\n                    <s.DownloadFile src={imageList} alt=\"document_img\" />\n                  </s.PreDownload>\n                )\n              ) : null}\n            </s.Container>\n          </>\n        )}\n      </Container>\n      {shownModal && <ImageModal onClose={onModal} picture={modalPicture} />}\n    </Section>\n  );\n};\n\nexport default Chat;\n"],"names":["Container","styled","div","_templateObject","_taggedTemplateLiteral","vars","breakpoints","mobileMin","mobileMax","tablet","desktop","_ref","children","_jsx","s","Section","section","Chat","_templateObject2","Form","form","_templateObject3","Input","input","_templateObject4","ChatMessage","_templateObject5","$ownMessage","Message","_templateObject6","_ref2","css","_templateObject7","Box","_templateObject8","Image","img","_templateObject9","UserName","h2","_templateObject10","Description","p","_templateObject11","AddIconLabel","_templateObject12","label","_templateObject13","AddIconInput","_templateObject14","ChoiseContainer","_templateObject15","ButtonContainer","_templateObject16","PreDownload","_templateObject17","DownloadFile","_templateObject18","DeleteIcon","button","_templateObject19","Backdrop","ModalField","background","bgSecondary","CloseButton","ModalRoot","document","getElementById","onClose","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","onClick","currentTarget","target","_jsxs","IoMdClose","picture","Modal","src","alt","user","setUser","useState","messagesEndRef","useRef","room","setRoom","roomNumber","setRoomNumber","copied","setCopied","messages","setMessages","newMessage","setNewMessage","uploadDoc","setUploadDoc","imageList","setImageList","sendToChat","setSendToChat","loadingImage","setLoadingImage","preUploadFile","setPreUploadFile","shownModal","setShowModal","modalPicture","setModalPicture","onAuthStateChanged","auth","storedRoom","localStorage","getItem","removeItem","q","query","collection","db","where","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","uploadFile","async","imageName","name","nanoid","imageRef","ref","storage","concat","uploadBytes","then","getDownloadURL","url","catch","error","console","onModal","imageUrl","prevShownModal","_Fragment","Button","type","func","navigator","clipboard","writeText","handleGoBack","message","uid","photoURL","displayName","text","file","onSubmit","preventDefault","trim","addDoc","timestamp","serverTimestamp","sendMessage","accept","onChange","files","htmlFor","FaPaperclip","value","placeholder","disabled","deletePreLoadFile","deleteObject","handleCreateRoom","newRoom","setItem","ImageModal"],"sourceRoot":""}