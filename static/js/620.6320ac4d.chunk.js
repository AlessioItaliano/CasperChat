"use strict";(self.webpackChunkmessenger_app=self.webpackChunkmessenger_app||[]).push([[620],{620:(e,n,a)=>{a.r(n),a.d(n,{default:()=>k});var t,s,d,r,i,o,c,l=a(43),u=a(32),p=a(791),m=a(528),g=a(197);const x=g.Ay.div(t||(t=(0,m.A)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  padding: 15px 0;\n  width: 100%;\n"]))),f=g.Ay.div(s||(s=(0,m.A)(["\n  width: 500px;\n  height: 60vh;\n  background-color: lightgrey;\n  border: 1px solid black;\n  overflow-y: auto;\n"]))),h=g.Ay.form(d||(d=(0,m.A)([""]))),y=g.Ay.input(r||(r=(0,m.A)([""]))),A=g.Ay.div(i||(i=(0,m.A)(["\n  display: flex;\n  justify-content: ",";\n"])),(e=>{let{$ownMessage:n}=e;return n?"flex-end":"flex-start"})),j=g.Ay.div(o||(o=(0,m.A)(["\n  background-color: #f0f0f0;\n  padding: 10px;\n  border-radius: 8px;\n  margin: 5px;\n\n  ","\n"])),(e=>{let{$ownMessage:n}=e;return n&&(0,g.AH)(c||(c=(0,m.A)(["\n      background-color: #dcf8c6;\n    "])))}));var v=a(864),b=a(579);const w=(0,u.aU)(p.y),k=()=>{const e=p.j.currentUser;console.log(e);const[n,a]=(0,l.useState)([]),[t,s]=(0,l.useState)("");(0,l.useEffect)((()=>{const e=(0,u.P)((0,u.rJ)(w,"messages"),(0,u.My)("timestamp"));return(0,u.aQ)(e,(e=>{a(e.docs.map((e=>({id:e.id,data:e.data()}))))}))}),[]),(0,l.useEffect)((()=>{const e=(0,u.P)((0,u.rJ)(w,"messages"),(0,u.My)("timestamp"));return(0,u.aQ)(e,(e=>{a(e.docs.map((e=>({id:e.id,data:e.data()}))))}))}),[]);return(0,b.jsxs)(x,{children:[(0,b.jsx)(f,{children:(0,b.jsx)("div",{children:n.map((n=>(0,b.jsx)(A,{$ownMessage:n.data.uid===e.uid,children:(0,b.jsxs)(j,{$ownMessage:n.data.uid===e.uid,children:[(0,b.jsx)("img",{src:n.data.photoURL,alt:"avatar_of_user"}),(0,b.jsx)("p",{children:n.data.displayName}),n.data.text]})},n.id)))})}),(0,b.jsxs)(h,{onSubmit:n=>{n.preventDefault(),(async()=>{await(0,u.gS)((0,u.rJ)(w,"messages"),{uid:e.uid,photoURL:e.photoURL,displayName:e.displayName,text:t,timestamp:(0,u.O5)()}),s("")})()},children:[(0,b.jsx)(y,{value:t,onChange:e=>s(e.target.value)}),(0,b.jsx)(v.A,{name:"submit"})]})]})}}}]);
//# sourceMappingURL=620.6320ac4d.chunk.js.map