{"version":3,"file":"static/js/620.e4538126.chunk.js","mappings":"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","sources":["components/Chat/Chat.styled.js","components/Chat/Chat.jsx","components/Container/Container.styled.js","components/Container/Container.jsx","components/Section/Section.styled.js","components/Section/Section.jsx","stylesheet/variables.js"],"sourcesContent":["import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  padding: 15px 0;\n  width: 100%;\n`;\n\nexport const Chat = styled.div`\n  width: 500px;\n  height: 60vh;\n  background-color: lightgrey;\n  border: 1px solid black;\n  overflow-y: auto;\n`;\n\nexport const Form = styled.form``;\n\nexport const Input = styled.input``;\n\nexport const ChatMessage = styled.div`\n  display: flex;\n  justify-content: ${({ $ownMessage }) =>\n    $ownMessage ? 'flex-end' : 'flex-start'};\n`;\n\nexport const Message = styled.div`\n  background-color: #f0f0f0;\n  padding: 10px;\n  border-radius: 8px;\n  margin: 5px;\n\n  ${({ $ownMessage }) =>\n    $ownMessage &&\n    css`\n      background-color: #dcf8c6;\n    `}\n`;\n","import { useEffect, useState } from 'react';\nimport {\n  // doc,\n  // setDoc,\n  addDoc,\n  // getDoc,\n  orderBy,\n  query,\n  getFirestore,\n  onSnapshot,\n  serverTimestamp,\n  collection,\n} from 'firebase/firestore';\nimport { app, auth } from '../../FirebaseConfig';\n\nimport * as s from './Chat.styled';\nimport Button from 'components/Button';\nimport Section from 'components/Section';\nimport Container from 'components/Container';\n\nconst db = getFirestore(app);\n\nconst Chat = () => {\n  const user = auth.currentUser;\n  console.log(user);\n\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n\n  const sendMessage = async () => {\n    await addDoc(collection(db, 'messages'), {\n      uid: user.uid,\n      photoURL: user.photoURL,\n      displayName: user.displayName,\n      text: newMessage,\n      timestamp: serverTimestamp(),\n    });\n\n    setNewMessage('');\n  };\n\n  useEffect(() => {\n    const q = query(collection(db, 'messages'), orderBy('timestamp'));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      setMessages(\n        snapshot.docs.map(doc => ({\n          id: doc.id,\n          data: doc.data(),\n        }))\n      );\n    });\n    return unsubscribe;\n  }, []);\n\n  useEffect(() => {\n    const q = query(collection(db, 'messages'), orderBy('timestamp'));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      setMessages(\n        snapshot.docs.map(doc => ({\n          id: doc.id,\n          data: doc.data(),\n        }))\n      );\n    });\n    return unsubscribe;\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    sendMessage();\n  };\n\n  return (\n    <Section>\n      <Container>\n        <s.Container>\n          <s.Chat>\n            <div>\n              {messages.map(msg => (\n                <s.ChatMessage\n                  key={msg.id}\n                  $ownMessage={msg.data.uid === user.uid}\n                >\n                  <s.Message $ownMessage={msg.data.uid === user.uid}>\n                    <img src={msg.data.photoURL} alt=\"avatar_of_user\" />\n                    <p>{msg.data.displayName}</p>\n                    {msg.data.text}\n                  </s.Message>\n                </s.ChatMessage>\n              ))}\n            </div>\n          </s.Chat>\n          <s.Form onSubmit={handleSubmit}>\n            <s.Input\n              value={newMessage}\n              onChange={e => setNewMessage(e.target.value)}\n            />\n            <Button name=\"submit\" />\n          </s.Form>\n        </s.Container>\n      </Container>\n    </Section>\n  );\n};\n\nexport default Chat;\n","import styled from 'styled-components';\n\nimport { vars } from 'stylesheet/variables';\n\nexport const Container = styled.div`\n  padding: 0 72px;\n  margin: 0 auto;\n  min-width: ${vars.breakpoints.mobileMin};\n  max-width: ${vars.breakpoints.mobileMax};\n\n  @media screen and (min-width: ${vars.breakpoints.tablet}) {\n    padding: 0 88px;\n    min-width: 768px;\n  }\n  @media screen and (min-width: ${vars.breakpoints.desktop}) {\n    padding: 0 124px;\n    max-width: 1280px;\n  }\n`;\n","import * as s from './Container.styled';\n\nconst Container = ({ children }) => <s.Container>{children}</s.Container>;\n\nexport default Container;\n","import styled from 'styled-components';\n\nimport { vars } from 'stylesheet/variables';\n\nexport const Section = styled.section`\n  padding: 60px 0;\n\n  @media screen and (min-width: ${vars.breakpoints.tablet}) {\n    padding: 80px 0;\n  }\n  @media screen and (min-width: ${vars.breakpoints.desktop}) {\n    padding: 90px 0;\n  }\n`;\n","import * as s from './Section.styled';\n\nconst Section = ({ children }) => <s.Section>{children}</s.Section>;\n\nexport default Section;\n","export const vars = {\n  colors: {\n    blackText: '#1E1E1E',\n    whiteText: '#FFF',\n    redText: '#DC3B5A',\n\n    secondary: '#5A65F2',\n    placeholder: 'rgba(255, 255, 255, 0.24)',\n  },\n\n  background: {\n    bgMain: '#181818',\n    bgSecondary: '#DC3B5A',\n  },\n\n  breakpoints: {\n    mobileMin: '360px',\n    mobileMax: '480px',\n    tablet: '768px',\n    desktop: '1280px',\n  },\n};\n"],"names":["Container","styled","div","_templateObject","_taggedTemplateLiteral","Chat","_templateObject2","Form","form","_templateObject3","Input","input","_templateObject4","ChatMessage","_templateObject5","_ref","$ownMessage","Message","_templateObject6","_ref2","css","_templateObject7","db","getFirestore","app","user","auth","currentUser","console","log","messages","setMessages","useState","newMessage","setNewMessage","useEffect","q","query","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","_jsx","Section","children","_jsxs","s","msg","uid","src","photoURL","alt","displayName","text","onSubmit","e","preventDefault","async","addDoc","timestamp","serverTimestamp","sendMessage","value","onChange","target","Button","name","vars","breakpoints","mobileMin","mobileMax","tablet","desktop","section","colors","blackText","whiteText","redText","secondary","placeholder","background","bgMain","bgSecondary"],"sourceRoot":""}