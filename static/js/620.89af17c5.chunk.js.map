{"version":3,"file":"static/js/620.89af17c5.chunk.js","mappings":"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","sources":["components/Chat/Chat.styled.js","components/Chat/Chat.jsx","components/Container/Container.styled.js","components/Container/Container.jsx","components/Section/Section.styled.js","components/Section/Section.jsx","stylesheet/variables.js"],"sourcesContent":["import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n\n  // padding: 15px 0;\n  width: 100%;\n`;\n\nexport const Chat = styled.div`\n  width: 500px;\n  height: 60vh;\n  background-color: lightgrey;\n  border: 1px solid black;\n  overflow-y: auto;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  gap: 5px;\n  align-items: center;\n  width: 500px;\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  height: auto;\n  padding: 10px;\n`;\n\nexport const ChatMessage = styled.div`\n  display: flex;\n  justify-content: ${({ $ownMessage }) =>\n    $ownMessage ? 'flex-end' : 'flex-start'};\n`;\n\nexport const Message = styled.div`\n  background-color: #f0f0f0;\n  padding: 10px;\n  border-radius: 8px;\n  margin: 5px;\n\n  ${({ $ownMessage }) =>\n    $ownMessage &&\n    css`\n      background-color: #dcf8c6;\n    `}\n`;\n\nexport const Box = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`;\n\nexport const Image = styled.img`\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n`;\n\nexport const UserName = styled.h2`\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nexport const Description = styled.p`\n  font-size: 14px;\n`;\n","import { useEffect, useState, useRef } from 'react';\nimport {\n  // doc,\n  // setDoc,\n  addDoc,\n  // getDoc,\n  orderBy,\n  query,\n  getFirestore,\n  onSnapshot,\n  serverTimestamp,\n  collection,\n} from 'firebase/firestore';\nimport { app, auth } from '../../FirebaseConfig';\n\nimport * as s from './Chat.styled';\nimport Button from 'components/Button';\nimport Section from 'components/Section';\nimport Container from 'components/Container';\n\nconst db = getFirestore(app);\n\nconst Chat = () => {\n  const user = auth.currentUser;\n  const messagesEndRef = useRef(null);\n  console.log(user);\n\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n\n  const sendMessage = async () => {\n    await addDoc(collection(db, 'messages'), {\n      uid: user.uid,\n      photoURL: user.photoURL,\n      displayName: user.displayName,\n      text: newMessage,\n      timestamp: serverTimestamp(),\n    });\n\n    setNewMessage('');\n  };\n\n  useEffect(() => {\n    if (!user) return;\n    const q = query(collection(db, 'messages'), orderBy('timestamp'));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      setMessages(\n        snapshot.docs.map(doc => ({\n          id: doc.id,\n          data: doc.data(),\n        }))\n      );\n      scrollToBottom();\n    });\n    return unsubscribe;\n  }, [user]);\n\n  useEffect(() => {\n    const q = query(collection(db, 'messages'), orderBy('timestamp'));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      setMessages(\n        snapshot.docs.map(doc => ({\n          id: doc.id,\n          data: doc.data(),\n        }))\n      );\n      scrollToBottom();\n    });\n    return unsubscribe;\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    sendMessage();\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return (\n    <Section>\n      <Container>\n        <s.Container>\n          <s.Chat>\n            <div>\n              {messages.map(message => (\n                <s.ChatMessage\n                  key={message.id}\n                  $ownMessage={message.data.uid === user.uid}\n                >\n                  <s.Message\n                    $ownMessage={message.data.uid === user.uid}\n                    ref={messagesEndRef}\n                  >\n                    <s.Box>\n                      <s.Image\n                        src={message.data.photoURL}\n                        alt=\"avatar_of_user\"\n                      />\n                      <s.UserName>{message.data.displayName}</s.UserName>\n                    </s.Box>\n                    <s.Description>{message.data.text}</s.Description>\n                  </s.Message>\n                </s.ChatMessage>\n              ))}\n            </div>\n          </s.Chat>\n          <s.Form onSubmit={handleSubmit}>\n            <s.Input\n              value={newMessage}\n              onChange={e => setNewMessage(e.target.value)}\n              placeholder=\"Insert your message here...\"\n            />\n            <Button name=\"SENT\" />\n          </s.Form>\n        </s.Container>\n      </Container>\n    </Section>\n  );\n};\n\nexport default Chat;\n","import styled from 'styled-components';\n\nimport { vars } from 'stylesheet/variables';\n\nexport const Container = styled.div`\n  padding: 0 72px;\n  margin: 0 auto;\n  min-width: ${vars.breakpoints.mobileMin};\n  max-width: ${vars.breakpoints.mobileMax};\n\n  @media screen and (min-width: ${vars.breakpoints.tablet}) {\n    padding: 0 88px;\n    min-width: 768px;\n  }\n  @media screen and (min-width: ${vars.breakpoints.desktop}) {\n    padding: 0 124px;\n    max-width: 1280px;\n  }\n`;\n","import * as s from './Container.styled';\n\nconst Container = ({ children }) => <s.Container>{children}</s.Container>;\n\nexport default Container;\n","import styled from 'styled-components';\n\nimport { vars } from 'stylesheet/variables';\n\nexport const Section = styled.section`\n  padding: 60px 0;\n\n  @media screen and (min-width: ${vars.breakpoints.tablet}) {\n    padding: 80px 0;\n  }\n  @media screen and (min-width: ${vars.breakpoints.desktop}) {\n    padding: 90px 0;\n  }\n`;\n","import * as s from './Section.styled';\n\nconst Section = ({ children }) => <s.Section>{children}</s.Section>;\n\nexport default Section;\n","export const vars = {\n  colors: {\n    blackText: '#1E1E1E',\n    whiteText: '#FFF',\n    redText: '#DC3B5A',\n\n    secondary: '#5A65F2',\n    placeholder: 'rgba(255, 255, 255, 0.24)',\n  },\n\n  background: {\n    bgMain: '#181818',\n    bgSecondary: '#DC3B5A',\n  },\n\n  breakpoints: {\n    mobileMin: '360px',\n    mobileMax: '480px',\n    tablet: '768px',\n    desktop: '1280px',\n  },\n};\n"],"names":["Container","styled","div","_templateObject","_taggedTemplateLiteral","Chat","_templateObject2","Form","form","_templateObject3","Input","input","_templateObject4","ChatMessage","_templateObject5","_ref","$ownMessage","Message","_templateObject6","_ref2","css","_templateObject7","Box","_templateObject8","Image","img","_templateObject9","UserName","h2","_templateObject10","Description","p","_templateObject11","db","getFirestore","app","user","auth","currentUser","messagesEndRef","useRef","console","log","messages","setMessages","useState","newMessage","setNewMessage","useEffect","q","query","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","_jsx","Section","children","_jsxs","s","message","uid","ref","src","photoURL","alt","displayName","text","onSubmit","e","preventDefault","async","addDoc","timestamp","serverTimestamp","sendMessage","value","onChange","target","placeholder","Button","name","vars","breakpoints","mobileMin","mobileMax","tablet","desktop","section","colors","blackText","whiteText","redText","secondary","background","bgMain","bgSecondary"],"sourceRoot":""}