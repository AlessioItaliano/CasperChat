"use strict";(self.webpackChunkmessenger_app=self.webpackChunkmessenger_app||[]).push([[424],{492:(n,e,t)=>{t.d(e,{A:()=>l});var i,o=t(528),r=t(197),a=t(255);const s=r.Ay.div(i||(i=(0,o.A)(["\n  padding: 0 72px;\n  margin: 0 auto;\n  min-width: ",";\n  max-width: ",";\n\n  @media screen and (min-width: ",") {\n    padding: 0 88px;\n    min-width: 768px;\n  }\n  @media screen and (min-width: ",") {\n    padding: 0 81px;\n    max-width: 1440px;\n  }\n"])),a.f.breakpoints.mobileMin,a.f.breakpoints.mobileMax,a.f.breakpoints.tablet,a.f.breakpoints.desktop);var d=t(579);const l=n=>{let{children:e}=n;return(0,d.jsx)(s,{children:e})}},774:(n,e,t)=>{t.d(e,{A:()=>l});var i,o=t(528),r=t(197),a=t(255);const s=r.Ay.section(i||(i=(0,o.A)(["\n  padding: 30px 0;\n\n  @media screen and (min-width: ",") {\n    padding: 30px 0;\n  }\n  @media screen and (min-width: ",") {\n    padding: 30px 0;\n  }\n"])),a.f.breakpoints.tablet,a.f.breakpoints.desktop);var d=t(579);const l=n=>{let{children:e}=n;return(0,d.jsx)(s,{children:e})}},424:(n,e,t)=>{t.r(e),t.d(e,{default:()=>xn});var i,o,r,a,s,d,l,c,p,u,x,h,g,m,f,y,A,j,b,v=t(43),w=t(32),k=t(88),S=t(712),C=t(156),I=t(147),E=t(764),R=t(423),M=t(528),_=t(197);const L=_.Ay.div(i||(i=(0,M.A)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n\n  // padding: 15px 0;\n  width: 100%;\n"]))),z=_.Ay.div(o||(o=(0,M.A)(["\n  width: 500px;\n  height: 60vh;\n  background-color: lightgrey;\n  border: 1px solid black;\n  overflow-y: auto;\n"]))),D=_.Ay.form(r||(r=(0,M.A)(["\n  display: flex;\n  gap: 5px;\n  align-items: center;\n  width: 500px;\n"]))),N=_.Ay.input(a||(a=(0,M.A)(["\n  width: 100%;\n  height: auto;\n  padding: 10px;\n"]))),$=_.Ay.div(s||(s=(0,M.A)(["\n  display: flex;\n  justify-content: ",";\n"])),(n=>{let{$ownMessage:e}=n;return e?"flex-end":"flex-start"})),q=_.Ay.div(d||(d=(0,M.A)(["\n  background-color: #f0f0f0;\n  padding: 10px;\n  border-radius: 8px;\n  margin: 5px;\n\n  ","\n"])),(n=>{let{$ownMessage:e}=n;return e&&(0,_.AH)(l||(l=(0,M.A)(["\n      background-color: #dcf8c6;\n    "])))})),G=_.Ay.div(c||(c=(0,M.A)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n"]))),Q=_.Ay.img(p||(p=(0,M.A)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n"]))),T=_.Ay.h2(u||(u=(0,M.A)(["\n  font-size: 16px;\n  font-weight: 600;\n"]))),U=_.Ay.p(x||(x=(0,M.A)(["\n  font-size: 14px;\n"]))),F=(_.Ay.input(h||(h=(0,M.A)(["\n  background: inherit;\n  border: none;\n  cursor: pointer;\n  width: 30px;\n  height: auto;\n"]))),_.Ay.label(g||(g=(0,M.A)(["\n  font-size: 16px;\n  font-weight: 500;\n  color: black;\n  text-decoration: underline;\n  cursor: pointer;\n"])))),H=_.Ay.input(m||(m=(0,M.A)(["\n  width: 0.1px;\n  height: 0.1px;\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  z-index: -1;\n"]))),J=_.Ay.div(f||(f=(0,M.A)(["\n  display: flex;\n  align-item: center;\n  justify-item: center;\n  flex-direction: column;\n"]))),K=_.Ay.div(y||(y=(0,M.A)(["\n  display: flex;\n  align-item: center;\n  justify-item: center;\n  gap: 10px;\n"]))),P=_.Ay.div(A||(A=(0,M.A)(["\n  width: 250px;\n  height: 250px;\n\n  position: relative;\n"]))),W=_.Ay.img(j||(j=(0,M.A)(["\n  width: 250px;\n  height: auto;\n"]))),B=_.Ay.button(b||(b=(0,M.A)(["\n  // width: 25px;\n  height: 25px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  position: absolute;\n  top: 5px;\n  right: 5px;\n\n  border-radius: 50%;\n  border: none;\n  background-color: red;\n\n  cursor: pointer;\n\n  &:focus,\n  &:hover {\n    color: white;\n    border: 0.5px solid white;\n  }\n"])));var O,V,X,Y=t(583),Z=t(774),nn=t(492),en=t(950),tn=t(255);const on=_.Ay.div(O||(O=(0,M.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n\n  background-color: grey;\n"]))),rn=_.Ay.div(V||(V=(0,M.A)(["\n  position: relative;\n\n  width: calc(100% - 30px);\n  // max-width: 541px;\n  height: auto;\n  // max-height: calc(100vh - 30px);\n\n  padding: 40px 20px 20px 20px;\n  overflow-y: auto;\n\n  border-radius: 24px;\n\n  background-color: ",";\n"])),tn.f.background.bgSecondary),an=_.Ay.button(X||(X=(0,M.A)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 0;\n\n  cursor: pointer;\n  border: none;\n\n  background-color: transparent;\n"])));var sn=t(579);const dn=document.getElementById("modal-root"),ln=n=>{let{onClose:e,children:t}=n;(0,v.useEffect)((()=>{const n=n=>{"Escape"===n.code&&e()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}),[e]);return(0,en.createPortal)((0,sn.jsx)(on,{onClick:n=>{n.currentTarget===n.target&&e()},children:(0,sn.jsxs)(rn,{children:[(0,sn.jsx)(an,{onClick:e,children:(0,sn.jsx)(R.WQq,{})}),t]})}),dn)};var cn;const pn=_.Ay.img(cn||(cn=(0,M.A)(["\n  width: 100%;\n  height: 100%;\n"]))),un=n=>{let{onClose:e,picture:t}=n;return(0,sn.jsx)(ln,{onClose:e,children:(0,sn.jsx)(pn,{src:t,alt:"large_img"})})},xn=()=>{const[n,e]=(0,v.useState)(null),t=(0,v.useRef)(null),[i,o]=(0,v.useState)(""),[r,a]=(0,v.useState)(""),[s,d]=(0,v.useState)(!1),[l,c]=(0,v.useState)([]),[p,u]=(0,v.useState)(""),[x,h]=(0,v.useState)(null),[g,m]=(0,v.useState)(""),[f,y]=(0,v.useState)(!1),[A,j]=(0,v.useState)(!1),[b,M]=(0,v.useState)(""),[_,O]=(0,v.useState)(!1),[V,X]=(0,v.useState)("");(0,v.useEffect)((()=>{(0,E.hg)(k.j2,(n=>{if(n){e(n);const t=localStorage.getItem("room");o(t)}else e(null),localStorage.removeItem("room"),o("")}))}),[]);(0,v.useEffect)((()=>{const n=(0,w.P)((0,w.rJ)(k.db,"messages"),(0,w._M)("room","==",i),(0,w.My)("timestamp"));return(0,w.aQ)(n,(n=>{c(n.docs.map((n=>({id:n.id,data:n.data()})))),en()}))}),[i]);const en=()=>{var n;null===(n=t.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})},tn=async()=>{if(null==x)return;y(!0),j(!0);const n=x.name+(0,S.Ak)();M(n);const e=(0,I.KR)(k.IG,"images/room/".concat(i,"/").concat(n));await(0,I.D)(e,x).then((n=>{(0,I.qk)(n.ref).then((n=>{m(n),j(!1)}))})).catch((n=>{console.error("Error uploading file:",n),j(!1)})),h(null)},on=n=>{X(n),O((n=>!n))};return(0,sn.jsxs)(Z.A,{children:[(0,sn.jsx)(nn.A,{children:i?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)(L,{children:[(0,sn.jsxs)(K,{children:[(0,sn.jsx)(Y.A,{name:s?"Copied!":"Click here to copy invitation",type:"button",func:async()=>{await navigator.clipboard.writeText(i),d(!0)}}),(0,sn.jsx)(Y.A,{func:()=>{localStorage.removeItem("room"),o("")},name:"Return",type:"button"})]}),(0,sn.jsx)(z,{children:(0,sn.jsx)("div",{children:l.map((e=>(0,sn.jsx)($,{$ownMessage:e.data.uid===n.uid,children:(0,sn.jsxs)(q,{$ownMessage:e.data.uid===n.uid,ref:t,children:[(0,sn.jsxs)(G,{children:[(0,sn.jsx)(Q,{src:e.data.photoURL,alt:"avatar_of_user"}),(0,sn.jsx)(T,{children:e.data.displayName})]}),(0,sn.jsx)(U,{children:e.data.text}),W&&e.data.file&&(0,sn.jsx)(W,{src:e.data.file,alt:"document_img",onClick:()=>on(e.data.file)})]})},e.id)))})}),(0,sn.jsxs)(D,{onSubmit:async e=>{e.preventDefault(),""===p.trim()&&""===g||(await tn(),(async()=>{await(0,w.gS)((0,w.rJ)(k.db,"messages"),{uid:n.uid,photoURL:n.photoURL,displayName:n.displayName,text:p,timestamp:(0,w.O5)(),room:i,file:g}),u("")})(),y(!1),h(null),m(""))},children:[(0,sn.jsx)(H,{type:"file",accept:"image/*",id:"paperclip",onChange:n=>h(n.target.files[0])}),(0,sn.jsx)(F,{htmlFor:"paperclip",children:(0,sn.jsx)(C.EHs,{})}),(0,sn.jsx)(N,{value:p,onChange:n=>u(n.target.value),placeholder:"Insert your message here..."}),(0,sn.jsx)(Y.A,{name:"SENT",type:"submit",disabled:null!==x})]}),f?A?(0,sn.jsx)("p",{children:"Loading..."}):(0,sn.jsxs)(P,{children:[(0,sn.jsx)(B,{type:"button",onClick:()=>{y(!1),h(null),m(""),(0,I.XR)((0,I.KR)(k.IG,"images/room/".concat(i,"/").concat(b)))},children:(0,sn.jsx)(R.WQq,{})}),(0,sn.jsx)(W,{src:g,alt:"document_img"})]}):null]})}):(0,sn.jsxs)(J,{children:[(0,sn.jsx)("p",{children:"Do you want create new room ?"}),(0,sn.jsx)(Y.A,{func:()=>{const n=(0,S.Ak)();o(n),localStorage.setItem("room",n)},name:"Create room"}),(0,sn.jsx)("p",{children:"Click here or you have invitation?"}),(0,sn.jsxs)(D,{onClick:n=>{n.preventDefault(),localStorage.setItem("room",r),o(r)},children:[(0,sn.jsx)(N,{type:"text",value:r,onChange:n=>a(n.target.value),placeholder:"Insert your invitation here..."}),(0,sn.jsx)(Y.A,{name:"Go to Room",type:"submit"})]})]})}),_&&(0,sn.jsx)(un,{onClose:on,picture:V})]})}}}]);
//# sourceMappingURL=424.7b163fdb.chunk.js.map